<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0;
  height:100%;
  background:transparent;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}
svg{
  width:80vmin;
  height:80vmin;
  background:transparent;
  touch-action:none;
}
circle{
  fill:#000;            /* black color */
  cursor:pointer;
  touch-action:none;
  r:6;                  /* make it bigger */
}
</style>
</head>
<body>

<svg id="knobLayer" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
  <circle id="knob" cx="20" cy="80" r="6" />
</svg>

<script>
const knob = document.getElementById('knob');
const svg  = document.getElementById('knobLayer');

let dragging = false;
let segment  = 'vertical';

function getXY(e){
  const point = e.touches ? e.touches[0] : e;
  const rect = svg.getBoundingClientRect();
  const x = ((point.clientX - rect.left) / rect.width) * 100;
  const y = ((point.clientY - rect.top) / rect.height) * 100;
  return {x,y};
}

function start(e){
  if(e.target !== knob) return;
  dragging = true;
  e.preventDefault();
}

function move(e){
  if(!dragging) return;
  const {x,y} = getXY(e);
  e.preventDefault();

  if (segment === 'vertical') {
    const newY = Math.max(20, Math.min(80, y));
    knob.setAttribute('cx', 20);
    knob.setAttribute('cy', newY);
    if (newY >= 79) segment = 'horizontal';
  } else if (segment === 'horizontal') {
    const newX = Math.max(20, Math.min(80, x));
    knob.setAttribute('cx', newX);
    knob.setAttribute('cy', 80);
    if (newX <= 21) segment = 'vertical';
  }
}

function stop(){ dragging = false; }

svg.addEventListener('mousedown', start);
window.addEventListener('mouseup', stop);
svg.addEventListener('mousemove', move);

svg.addEventListener('touchstart', start, {passive:false});
window.addEventListener('touchend', stop);
svg.addEventListener('touchmove', move, {passive:false});
</script>

</body>
</html>
