<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Editor</title>

<style>
html,body{
  margin:0;
  background:#111;
  height:100%;
  width:100%;
  overflow:hidden;
  position:fixed;
  top:0;left:0;
  font-family:monospace;
}

/* frames */
iframe{
  border:none;
  border-radius:10px;
  background:transparent;
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  transition:opacity .8s ease;
}
#frame1{
  width:90%;
  height:15%;
  top:35%;
  z-index:3;
  pointer-events:none;
}
#frame2{
  width:340px;
  height:200px;
  position:fixed;
  top:calc(100% - 140px);
  left:calc(50% - 170px);
  z-index:2;
  border-radius:10px;
  border:2px solid transparent;
  transition:border .3s, box-shadow .3s;
}
#frame2.active{
  border:2px solid #ffcc00;
  box-shadow:0 0 20px #ffcc00aa;
}
#frame3{
  width:60%;
  height:55vh;
  top:8%;
  z-index:1;
  opacity:0;
  pointer-events:none;
}
#frame7{
  width:340px;
  height:320px;
  bottom:10px;
  right:10px;
  position:fixed;
  z-index:5;
  opacity:0;
  pointer-events:none;
  cursor:grab;
}

/* button core */
.btn,.arrow{
  width:65px;
  height:35px;
  border:none;
  border-radius:8px;
  opacity:0;
  pointer-events:none;
  color:#000;
  font-weight:bold;
  font-family:monospace;
  letter-spacing:1px;
  text-transform:uppercase;
  background-size:200% 100%;
  background-position:left center;
  transition:.4s;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.btn.show,.arrow.show{
  opacity:1;
  pointer-events:auto;
  background-position:right center;
  box-shadow:0 0 10px rgba(255,255,255,.15);
}

.btn.pressed,.arrow.pressed{
  border:2px solid #ffcc00;
  box-shadow:0 0 15px #ffcc00aa;
}

/* colors */
#run{background:linear-gradient(90deg,#32cd32,#000);}
#clear{background:linear-gradient(90deg,#ff3333,#000);}
#clearAll{background:linear-gradient(90deg,#9933ff,#000);}
#move{background:linear-gradient(90deg,#00aaff,#000);}
#save{background:linear-gradient(90deg,#ffaa00,#000);}
#btn123{background:linear-gradient(90deg,#ff9ad7,#000);}
#vingLeft{background:linear-gradient(90deg,#fff,#000);}
#vingRight{background:linear-gradient(90deg,#ffb65c,#000);}
#light{background:linear-gradient(90deg,#00cccc,#000);}
#anchor{background:linear-gradient(90deg,#00ff66,#000);}
.arrow{background:linear-gradient(90deg,#00ffcc,#000);}

/* bottom bars */
#bottomBar,#bottomBar2{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:14px;
  z-index:6;
}
#bottomBar{bottom:160px;}
#bottomBar2{bottom:120px;}

/* arrows */
#arrowBar{
  position:fixed;
  bottom:70px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  z-index:6;
}

/* prestige stacks unchanged */
.lvBtnL{left:20px!important;position:absolute;width:65px;}
.lvBtnR{right:20px!important;left:auto!important;position:absolute;width:65px;}

#lv0L,#lv0R{top:6%;background:linear-gradient(90deg,#999,#000);}
#lv1L,#lv1R{top:12%;background:linear-gradient(90deg,#00eaff,#000);}
#lv2L,#lv2R{top:18%;background:linear-gradient(90deg,#ff6bb3,#000);}
#lv3L,#lv3R{top:24%;background:linear-gradient(90deg,#ffd447,#000);}
#lv4L,#lv4R{top:30%;background:linear-gradient(90deg,#7fff6f,#000);}
#lv5L,#lv5R{top:36%;background:linear-gradient(90deg,#ff7a4a,#000);}
#lv6L,#lv6R{top:42%;background:linear-gradient(90deg,#6b5bff,#000);}
#lv7L,#lv7R{top:48%;background:linear-gradient(90deg,#00ffc8,#000);}
#lv8L,#lv8R{top:54%;background:linear-gradient(90deg,#ff3f6d,#000);}

/* notepad */
#toggleNotepad{
  position:fixed;
  bottom:15px;
  left:15px;
  padding:10px 25px;
  border-radius:8px;
  font-family:monospace;
  font-weight:bold;
  background:linear-gradient(90deg,#00ffcc,#000);
  cursor:pointer;
}
</style>
</head>

<body>

<iframe id="frame1"></iframe>
<iframe id="frame2"></iframe>
<iframe id="frame3"></iframe>
<iframe id="frame7"></iframe>

<!-- prestige -->
<div id="lv0L" class="btn lvBtnL">LV0</div><div id="lv1L" class="btn lvBtnL">LV1</div><div id="lv2L" class="btn lvBtnL">LV2</div><div id="lv3L" class="btn lvBtnL">LV3</div><div id="lv4L" class="btn lvBtnL">LV4</div><div id="lv5L" class="btn lvBtnL">LV5</div><div id="lv6L" class="btn lvBtnL">LV6</div><div id="lv7L" class="btn lvBtnL">LV7</div><div id="lv8L" class="btn lvBtnL">LV8</div>
<div id="lv0R" class="btn lvBtnR">LV0</div><div id="lv1R" class="btn lvBtnR">LV1</div><div id="lv2R" class="btn lvBtnR">LV2</div><div id="lv3R" class="btn lvBtnR">LV3</div><div id="lv4R" class="btn lvBtnR">LV4</div><div id="lv5R" class="btn lvBtnR">LV5</div><div id="lv6R" class="btn lvBtnR">LV6</div><div id="lv7R" class="btn lvBtnR">LV7</div><div id="lv8R" class="btn lvBtnR">LV8</div>

<!-- bottom rows -->
<div id="bottomBar">
  <div id="run" class="btn">RUN</div>
  üíö
  <div id="clear" class="btn">CLEAR</div>
  <div id="clearAll" class="btn">CLEAR ALL</div>
  <div id="move" class="btn">MOVE</div>
  <div id="save" class="btn">SAVE</div>
  <div id="btn123" class="btn">123</div>
</div>

<div id="bottomBar2">
  <div id="vingLeft" class="btn">VinG</div>
  <div id="light" class="btn">LIGHT</div>
  <div id="anchor" class="btn">ANCHOR</div>
  <div id="vingRight" class="btn">VinG</div>
</div>

<div id="arrowBar">
  <div id="up" class="arrow">‚Üë</div>
  <div id="left" class="arrow">‚Üê</div>
  <div id="down" class="arrow">‚Üì</div>
  <div id="right" class="arrow">‚Üí</div>
</div>

<button id="toggleNotepad">NOTEPAD</button>

<script>
const v=Date.now();
frame1.src=`welcome.html?v=${v}`;
frame2.src=`layer1.html?v=${v}`;
frame3.src=`preview.html?v=${v}`;
frame7.src=`notepad.html?v=${v}`;

const buttons=[...document.querySelectorAll('.btn,.arrow')];
window.addEventListener('message',e=>{
  if(e.data?.type==='pasteDetected')buttons.forEach(b=>b.classList.add('show'));
  if(e.data?.type==='updatePreview'){
    frame3.style.opacity=1;
    frame3.contentWindow.postMessage({type:'updatePreview',code:e.data.code,layer:1},'*');
  }
});
buttons.forEach(b=>b.onclick=()=>b.classList.toggle('pressed'));
</script>

</body>
</html>
